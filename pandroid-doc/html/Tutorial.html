<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.4">
<meta name="author" content="Pandroid v2.0.0-BETA4-SNAPSHOT, Wed Jul 13 14:37:11 CEST 2016">
<title>Tutorial</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Tutorial</h1>
<div class="details">
<span id="author" class="author">Pandroid v2.0.0-BETA4-SNAPSHOT, Wed Jul 13 14:37:11 CEST 2016</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#basics">1. Basics</a>
<ul class="sectlevel2">
<li><a href="#architecture">1.1. Architecture</a></li>
<li><a href="#dagger">1.2. Dagger</a></li>
<li><a href="#event-bus">1.3. Event Bus</a></li>
</ul>
</li>
<li><a href="#panda-style">2. Panda style</a>
<ul class="sectlevel2">
<li><a href="#plugin-configuration">2.1. Plugin configuration</a></li>
<li><a href="#pandroidapplication">2.2. PandroidApplication</a></li>
<li><a href="#pandroidmodule-component">2.3. PandroidModule/Component</a></li>
<li><a href="#pandroidactivity">2.4. PandroidActivity</a></li>
<li><a href="#pandroidfragment">2.5. PandroidFragment</a></li>
<li><a href="#lifecycle-delegate">2.6. Lifecycle Delegate</a></li>
<li><a href="#logger">2.7. Logger</a></li>
</ul>
</li>
<li><a href="#security">3. Security</a>
<ul class="sectlevel2">
<li><a href="#proguard">3.1. Proguard</a></li>
<li><a href="#encryption-manager">3.2. Encryption Manager</a></li>
<li><a href="#secure-key">3.3. Secure Key</a></li>
</ul>
</li>
<li><a href="#network">4. Network</a>
<ul class="sectlevel2">
<li><a href="#trustmanager-keymanager">4.1. TrustManager / KeyManager</a></li>
<li><a href="#delegate">4.2. Delegate</a></li>
<li><a href="#retrofit">4.3. Retrofit</a></li>
<li><a href="#picture">4.4. Picture</a></li>
</ul>
</li>
<li><a href="#user-interface">5. User interface</a>
<ul class="sectlevel2">
<li><a href="#animation">5.1. Animation</a></li>
<li><a href="#list">5.2. List</a></li>
<li><a href="#list-header">5.3. List header</a></li>
<li><a href="#toast">5.4. Toast</a></li>
<li><a href="#scanner">5.5. Scanner</a></li>
<li><a href="#custom-views">5.6. Custom Views</a></li>
</ul>
</li>
<li><a href="#storage">6. Storage</a>
<ul class="sectlevel2">
<li><a href="#preferences">6.1. Preferences</a></li>
<li><a href="#loader">6.2. Loader</a></li>
</ul>
</li>
<li><a href="#analytics">7. Analytics</a>
<ul class="sectlevel2">
<li><a href="#google-analytics">7.1. Google Analytics</a></li>
<li><a href="#firebase-analytics">7.2. Firebase Analytics</a></li>
</ul>
</li>
<li><a href="#tests">8. Tests</a></li>
<li><a href="#utils">9. Utils</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="basics">1. Basics</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="architecture">1.1. Architecture</h3>
<div class="paragraph">
<p>One of the main goals of Pandroid archetype is to help you organise your project and share a common vision/architecture with other developers.<br>
"Why bother ? Because I understand my code and I work faster like that."
True, but I&#8217;m sure you had to make a changes on an application of another developer and it looked like a mess. Yet it was a piece of art for him.
What a waste of time to refactor the code of the others because you just don&#8217;t understand it. Neither share the same practices&#8230;&#8203;
Most of the time all of that is just a matter of perspective. With Pandroid we try to share the same vision and understand each others much more faster.</p>
</div>
<div class="paragraph">
<p>To illustrate this lets take a look at this schema:</p>
</div>
<div id="bad_architecture" class="imageblock" style="text-align: center">
<div class="content">
<img src="./../assets/archi/bad_archi.png" alt="Bad architecture" width="652" height="262">
</div>
<div class="title">Figure 1. Frequent bad architecture</div>
</div>
<div class="paragraph">
<p>In most applications, when nothing is done to organize the code, it could look like this.
Libraries are used in a lot of classes. We don&#8217;t know which classes are used to run a functionality or another.
If I am asked to change my application structure, I could be in a big trouble because all of my screens which are linked to each others : I would have to extract my functionalities from my UI. And if I need to change a library for another one&#8230;&#8203; I&#8217;m just screwed.</p>
</div>
<div class="paragraph">
<p>In order to resolve all of these issues, Pandroid proposes a modular architecture</p>
</div>
<div id="good_architecture" class="imageblock" style="text-align: center">
<div class="content">
<img src="./../assets/archi/good_archi.png" alt="Bad architecture" width="652" height="330">
</div>
<div class="title">Figure 2. Pandroid modular architecture</div>
</div>
<div class="paragraph">
<p>With this architecture, none of my screens knows another. They send and listen events in order to work together.
A responsive UI isn&#8217;t an issue anymore !
It is quite easy to replace a library, component or anything by another without impacting all our screens because libraries are hidden behind an abstract manager interface.
I can identify which part of the code is responsible of a functionality and thus it&#8217;s really easy to test it.</p>
</div>
</div>
<div class="sect2">
<h3 id="dagger">1.2. Dagger</h3>
<div class="paragraph">
<p>To perform our library abstraction and deal with all of our managers, Pandroid uses Dagger 2 which is a powerful Dependencies Injection Library.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
The official documentation is available <a href="http://google.github.io/dagger">here</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="event-bus">1.3. Event Bus</h3>
<div class="paragraph">
<p>Pandroid uses a EventBusManager to share informations between screens. The main idea is to avoid screens
interdependencies. Activities and fragments stay independents in order to be more flexible with UI changes.</p>
</div>
<div class="paragraph">
<p>Pandroid offers a simple and powerful implementation of EventBusManager. This implementation works with
a gradle plugin which generates code and simplifies your life.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s see how it works:</p>
</div>
<div class="paragraph">
<p><strong>Send a simple Object</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@OnClick</span>(R.id.event_send_localy)
    <span class="directive">public</span> <span class="type">void</span> sendLocaly() {
        eventBusManager.send(tvMessage.getText().toString()); <span class="comment">// send a string object with no tag</span>
    }
    <span class="comment">// generate a $CURRENT_CLASS$ReceiversProvider that refer this method</span>
    <span class="comment">// a Pandroid lifecycle delegate will register this generate class to the event bus for you</span>
    <span class="comment">// in non PandroidLifecycle class you will have to un/register the provider by yourself</span>
    <span class="annotation">@EventReceiver</span>
    <span class="directive">public</span> <span class="type">void</span> receiveLocalMessage(<span class="predefined-type">String</span> message) {
        toastManager.makeToast(getActivity(), message, <span class="predefined-constant">null</span>);
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Send a simple Object</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@OnClick</span>(R.id.event_send_to)
    <span class="directive">public</span> <span class="type">void</span> sendToSecondFragment() {
        eventBusManager.send(tvMessage.getText().toString(), EventSecondFragment.TAG);
    }

    <span class="annotation">@EventReceiver</span>({TAG, <span class="string"><span class="delimiter">&quot;</span><span class="content">toto</span><span class="delimiter">&quot;</span></span>}) <span class="comment">//Generate provider with a tag to filter event</span>
    <span class="directive">public</span> <span class="type">void</span> onReceiveMessage(<span class="predefined-type">String</span> msg) {
        <span class="predefined-type">String</span> txt = tvMessage.getText().toString();
        <span class="predefined-type">String</span> text = txt + <span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span> + msg;
        logWrapper.d(TAG, <span class="string"><span class="delimiter">&quot;</span><span class="content">message receive: </span><span class="delimiter">&quot;</span></span> + msg);
        tvMessage.setText(text);
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Delivery policy</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="type">enum</span> DeliveryPolicy {
        <span class="comment">//The message will be delivery only to the registered receiver at the moment the message is send</span>
        UNCHECKED,
        <span class="comment">//The message will be keep until at least one receiver get it</span>
        AT_LEAST_ONE,
        <span class="comment">//The message will be keep until another message with the same id override it or it is cancelled</span>
        UNLIMITED
    }</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<a href=":./../../pandroid-demo/src/main/java/com/leroymerlin/pandroid/demo/main/event/EventFragment.java">This example</a> is available in the <a href=":./../../pandroid-demo/">demo project</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="panda-style">2. Panda style</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This part is about the Pandroid pattern and some of the core functionalities.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="plugin-configuration">2.1. Plugin configuration</h3>
<div class="paragraph">
<p>To avoid expansive compilation or multidex issues, Pandroid has some optional libraries that you will have
to configure before any usage. If you forget to specify the optional library, you will get an error displaying "no class found exception"</p>
</div>
<div class="paragraph">
<p>To add the needed dependencies you have to declare it in the pandroid extension of your project</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">pandroid{
    library(<span class="string"><span class="delimiter">'</span><span class="content">libName</span><span class="delimiter">'</span></span>) { <span class="comment">//Regex matching declared configurator will bring the dependency</span>
        manifestConfig <span class="string"><span class="delimiter">'</span><span class="content">param1</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">param2</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">param3</span><span class="delimiter">'</span></span>  <span class="comment">//needed configuration in manifest</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The plugin is using configurators in order to extract the librairies' configurations from Pandroid, the plugin is using configurators.
It allows you to modify the gradle&#8217;s configuration and the manifest of your app when the plugin is applied.</p>
</div>
<div class="paragraph">
<p>To see default configurators, take a look at this <a href=":../.././../../pandroid-library/pandroid.gradle">pandroid.gradle</a>.</p>
</div>
<div class="paragraph">
<p>Here is an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">pandroid{
    configurators{
        <span class="string"><span class="delimiter">'</span><span class="content">name.of.my.lib</span><span class="delimiter">'</span></span> {
            gradle {
            <span class="comment">//This part will be applyed on your build.gradle</span>
                dependencies {
                   compile (<span class="string"><span class="delimiter">'</span><span class="content">name.of.my.lib:version</span><span class="delimiter">'</span></span>)
                }
            manifest {
            <span class="comment">//This part will be merged to your manifest</span>
                    params -&gt;
                        <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span><span class="string"><span class="delimiter">'</span><span class="content">
        &lt;application&gt;
            &lt;meta-data
                android:name=&quot;my.lib.ApiKey&quot;
                android:value=&quot;</span><span class="delimiter">'</span></span><span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span> + params[<span class="integer">0</span>] + <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span><span class="string"><span class="delimiter">'</span><span class="content">&quot; /&gt;
        &lt;/application&gt;
    </span><span class="delimiter">'</span></span><span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Some of the libraries need plugins in order to work (Analytics, Crashlytics, &#8230;&#8203;).
You will have to configure the plugin classpath by yourself because pandroid can&#8217;t resolve it
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
All configuration files applied to your project can be found in the pandroid folder in your build folder
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="pandroidapplication">2.2. PandroidApplication</h3>
<div class="paragraph">
<p>Your application has to extend PandroidApplication in order to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Initialize PandroidConfig with the app&#8217;s BuildConfig. This class allows the library to know if your app
is in DEBUG mode. (To enable Logger for example)</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
If your application changes his package name for some flavors, you have to override the <em>getBuildConfig()</em> method
in order to give the good BuildConfig class
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Initialize the logger. See <a href="#_logger">Logger part</a> to know how to customize it.</p>
</li>
<li>
<p>Handle Dagger component injection. Pandroid classes will inject their manager using the PandroidApplication.
You can give a custom base component by overriding <em>createBaseComponent()</em></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Override</span>
    <span class="directive">protected</span> BaseComponent createBaseComponent() {
        <span class="keyword">return</span> DaggerDemoComponent.builder()
                .demoModule(<span class="keyword">new</span> DemoModule())
                .pandroidModule(<span class="keyword">new</span> PandroidModule(<span class="local-variable">this</span>) {
                    <span class="annotation">@Override</span>
                    <span class="directive">protected</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">TrustManager</span>&gt; getTrustManagers() {
                        <span class="predefined-type">List</span>&lt;<span class="predefined-type">TrustManager</span>&gt; keyManagers = <span class="local-variable">super</span>.getTrustManagers();
                        PandroidX509TrustManager trustManager = <span class="keyword">new</span> PandroidX509TrustManager(DemoApplication.this);
                        trustManager.addCertificate(<span class="string"><span class="delimiter">&quot;</span><span class="content">leroymerlin.com</span><span class="delimiter">&quot;</span></span>, R.raw.lmfr_cert);<span class="comment">// add certificate for your application</span>
                        keyManagers.add(trustManager);
                        <span class="keyword">return</span> keyManagers;
                    }
                    <span class="annotation">@Override</span>
                    <span class="directive">protected</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">KeyManager</span>&gt; getKeyManagers() {
                        <span class="keyword">return</span> <span class="local-variable">super</span>.getKeyManagers(); <span class="comment">// here you can add you own key manager</span>
                    }
                })
                .build();
    }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pandroidmodule-component">2.3. PandroidModule/Component</h3>
<div class="paragraph">
<p>To work properly, PandroidActivity/PandroidFragment needs managers created by the BaseComponent. That is why PandroidApplication provides this BaseComponent. To simplify your life, your
Application Component can extend the BaseComponent in order to be injected automatically in every PandroidActivity/PandroidFragment. The PandroidModule needed by this base component provides the context, a logger, the EventBus and an initialized OkHttpClient.Builder.</p>
</div>
</div>
<div class="sect2">
<h3 id="pandroidactivity">2.4. PandroidActivity</h3>
<div class="paragraph">
<p>PandroidActivity is the base activity you should extend in a Pandroid application.
This activity handles the following points :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Dagger injection &amp; LifecycleDelegate initialization</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Inject</span>
    <span class="directive">protected</span> LogWrapper logWrapper;
    <span class="annotation">@Inject</span>
    <span class="directive">protected</span> EventBusManager eventBusManager;

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> <span class="type">void</span> onCreate(Bundle savedInstanceState) {
        <span class="local-variable">super</span>.onCreate(savedInstanceState);
        PandroidApplication pandroidApplication = PandroidApplication.get(<span class="local-variable">this</span>);
        <span class="comment">//initialize PandroidDelegate with the default from PandroidApplication</span>
        pandroidDelegate = pandroidApplication.createBasePandroidDelegate();
        pandroidDelegate.onInit(<span class="local-variable">this</span>);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>onResume Helper</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="comment">/**
     * call at the end of onResume process. This method will help you determine the king of resume
     * your activity is facing
     *
     * @param state current resume stat of the activity
     */</span>
    <span class="directive">protected</span> <span class="type">void</span> onResume(ResumeState state) {
        logWrapper.i(getClass().getSimpleName(), <span class="string"><span class="delimiter">&quot;</span><span class="content">resume state: </span><span class="delimiter">&quot;</span></span> + state);
    }</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Back pressed behavior</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> onBackPressed() {
        Fragment fragment = getCurrentFragment(); <span class="comment">//override this methode to give your current fragment</span>
        <span class="keyword">if</span> (fragment != <span class="predefined-constant">null</span> &amp;&amp; fragment <span class="keyword">instanceof</span> OnBackListener &amp;&amp; ((OnBackListener) fragment).onBackPressed()) {
            <span class="comment">//back handle by current fragment</span>
        } <span class="keyword">else</span> <span class="keyword">if</span> (getFragmentManager().getBackStackEntryCount() &gt; <span class="integer">0</span>) {
            <span class="comment">//back handle by getFragmentManager</span>
            getFragmentManager().popBackStack();
        } <span class="keyword">else</span> {
            onBackExit();
        }
    }

    <span class="comment">/**
     * Override this method to show an exit message and enable back confirmation to exit
     * @return true to stop the app exit, false otherwise
     */</span>
    <span class="directive">protected</span> <span class="type">boolean</span> showExitMessage() {
        <span class="keyword">return</span> <span class="predefined-constant">false</span>;
    }</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Provides a receiver that will be attached/detached from your application by the EventBusLifeCycleDelegate</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="comment">/**
     * Override this method to automatically (un)register receiver to the event bus with the activity life cycle
     * @return list of receivers attached by EventBusLifecycleDelegate
     */</span>
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">List</span>&lt;EventBusManager.EventBusReceiver&gt; getReceivers() {
        <span class="keyword">return</span> <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;();
    }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pandroidfragment">2.5. PandroidFragment</h3>
<div class="paragraph">
<p>PandroidFragment is the base fragment you should extend in a Pandroid application.
This Fragment handles the same points than a PandroidActivity.</p>
</div>
<div class="sect3">
<h4 id="open-fragment">2.5.1. Open Fragment</h4>
<div class="paragraph">
<p>To open a fragment, you are encouraged to use the event bus. All you have to do is to send a FragmentOpener event
and&#8230;&#8203; that&#8217;s it ! A custom event receiver named FragmentEventReceiver will handle the new fragment for you.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">                <span class="comment">//create</span>
                startFragment(NavigationLeftFragment.class);
                <span class="comment">//same as</span>
                <span class="comment">//eventBusManager.send(new FragmentOpener(NavigationLeftFragment.class));</span>
                <span class="comment">//...</span>
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">List</span>&lt;EventBusManager.EventBusReceiver&gt; getReceivers() {
        <span class="predefined-type">List</span>&lt;EventBusManager.EventBusReceiver&gt; receivers = <span class="local-variable">super</span>.getReceivers();
        <span class="comment">//This receiver will handle the NavigationLeftFragment and open it in the R.id.main_navigation_container container</span>
        FragmentEventReceiver navigationReceiver = <span class="keyword">new</span> FragmentEventReceiver().setContainerId(R.id.main_navigation_container).addFragment(NavigationLeftFragment.class);
        receivers.add(navigationReceiver);

        receivers.add(<span class="keyword">new</span> FragmentEventReceiver().setContainerId(R.id.main_content_container)
                .setAnim(<span class="keyword">new</span> <span class="type">int</span><span class="type">[]</span>{R.animator.demo_in, R.animator.demo_out, R.animator.demo_in, R.animator.demo_out})
                .addFragment(ScannerFragment.class)
                .addFragment(EventFragment.class)
                .addFragment(RestFragment.class)
                .addFragment(ListViewFragment.class)
                .addFragment(RecyclerViewFragment.class)
                .addFragment(AnimationFragment.class)
        );
        receivers.add(<span class="keyword">new</span> FragmentEventReceiver()
                .setContainerId(R.id.main_content_container)
                .setAnim(FragmentEventReceiver.ANIM_MATERIAL)
                .addFragment(MaterialFragment.class)
                .setBackStackTag(<span class="string"><span class="delimiter">&quot;</span><span class="content">material</span><span class="delimiter">&quot;</span></span>));
        receivers.add(<span class="keyword">new</span> FragmentEventReceiver().setContainerId(R.id.main_content_container)
                .setAnim(FragmentEventReceiver.ANIM_SLIDE)
                .addFragment(EventSecondFragment.class)
                .setBackStackTag(<span class="string"><span class="delimiter">&quot;</span><span class="content">back</span><span class="delimiter">&quot;</span></span>)
        );
        <span class="keyword">return</span> receivers;
    }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fragment-arguments">2.5.2. Fragment arguments</h4>
<div class="paragraph">
<p>If you use FragmentEventReceiver to open your fragment, you are already giving arguments to your fragment. In fact, when
you use <em>startFragment(&#8230;&#8203;)</em>, the method will create a FragmentOpener which has two jobs :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It will be used to filter
the event and find the right receiver</p>
</li>
<li>
<p>It is in charge of building your fragment instance.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By building a custom FragmentOpener, you will be able to send parameters to your fragment.
 If your opener is parcelable it will be saved as parcelable to the fragment, otherwise, it will be serialized.</p>
</div>
<div class="paragraph">
<p>To sum up here is an example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Send an event</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">                <span class="comment">// we send a custom FragmentOpener with some argument he needs</span>
                sendEvent(<span class="keyword">new</span> MaterialOpener(ivInfos, tvInfos));
                <span class="comment">//...</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>FragmentOpener</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">MaterialOpener</span> <span class="directive">extends</span> FragmentOpener {

    <span class="comment">//this is the params the fragment needs</span>
    <span class="directive">public</span> ViewInfosContainer tvInfos;
    <span class="directive">public</span> ViewInfosContainer ivInfos;

    <span class="directive">public</span> MaterialOpener(ViewInfosContainer ivInfos, ViewInfosContainer tvInfos) {
        <span class="local-variable">super</span>(MaterialFragment.class); <span class="comment">// this opener will instantiate a MaterialFragment</span>
        <span class="local-variable">this</span>.ivInfos = ivInfos;
        <span class="local-variable">this</span>.tvInfos = tvInfos;
    }

}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Manage an event (MainActivity.java)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">        receivers.add(<span class="keyword">new</span> FragmentEventReceiver()
                .setContainerId(R.id.main_content_container)
                .setAnim(FragmentEventReceiver.ANIM_MATERIAL)
                .addFragment(MaterialFragment.class)
                .setBackStackTag(<span class="string"><span class="delimiter">&quot;</span><span class="content">material</span><span class="delimiter">&quot;</span></span>));</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Get arguments</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//I can specify the Opener type here and I wont have to cast it later</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">MaterialFragment</span> <span class="directive">extends</span> PandroidFragment&lt;MaterialOpener&gt; <span class="directive">implements</span> OnBackListener {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> onResume(ResumeState state) {
        <span class="local-variable">super</span>.onResume(state);
        <span class="keyword">switch</span> (state) {
            <span class="keyword">case</span> FIRST_START:
                <span class="comment">//the field mOpener is the Fragment Opener that was send to the event bus to open the fragment</span>
                <span class="comment">//here this opener is a MaterialOpener</span>
                materialTransitionLayout.addAnimation(mOpener.ivInfos, R.id.material_iv);
                materialTransitionLayout.addAnimation(mOpener.tvInfos, R.id.material_tv);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lifecycle-delegate">2.6. Lifecycle Delegate</h3>
<div class="paragraph">
<p>Lifecycle delegates are listeners that are following the lifecycle of an activity or a fragment.
They are handled by the PandroidDelegate you find in a PandroidActivity/Fragment.
They are used to extract and share behaviors without any heritage.</p>
</div>
<div class="paragraph">
<p>To understand what we could do with them take a look at this example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">IcepickLifecycleDelegate</span> <span class="directive">extends</span> SimpleLifecycleDelegate&lt;<span class="predefined-type">Object</span>&gt; {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> onCreateView(<span class="predefined-type">Object</span> target, <span class="predefined-type">View</span> view, Bundle savedInstanceState) {
        <span class="local-variable">super</span>.onCreateView(target, view, savedInstanceState);
        Icepick.restoreInstanceState(target, savedInstanceState);
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> onSaveView(<span class="predefined-type">Object</span> target, Bundle outState) {
        <span class="keyword">if</span> (viewCreated)
            Icepick.saveInstanceState(target, outState);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default PandroidLifecycleDelegate is create in your PandroidApplication.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="comment">/**
     * initialize LifecycleDelegate that will listen the activity life cycle
     * Override this method to disable or add more delegate
     *
     * @return PandroidDelegate that will be used in pandroid activity / pandroid fragment
     */</span>
    <span class="directive">public</span> PandroidDelegate createBasePandroidDelegate() {
        PandroidDelegate pandroidDelegate = <span class="keyword">new</span> PandroidDelegate();
        pandroidDelegate.addLifecycleDelegate(<span class="keyword">new</span> DaggerDelegate());
        pandroidDelegate.addLifecycleDelegate(<span class="keyword">new</span> EventBusLifecycleDelegate(eventBusManager));
        <span class="keyword">try</span> {
            <span class="predefined-type">Class</span>.forName(ButterKnife.class.getName());
            pandroidDelegate.addLifecycleDelegate(<span class="keyword">new</span> ButterKnifeLifecycleDelegate());
        } <span class="keyword">catch</span> (<span class="exception">ClassNotFoundException</span> e) {
            logWrapper.v(TAG, <span class="string"><span class="delimiter">&quot;</span><span class="content">ButterKnife is disabled, add the library in Pandroid extension to use it</span><span class="delimiter">&quot;</span></span>);
        }
        <span class="keyword">try</span> {
            <span class="predefined-type">Class</span>.forName(Icepick.class.getName());
            pandroidDelegate.addLifecycleDelegate(<span class="keyword">new</span> IcepickLifecycleDelegate());
        } <span class="keyword">catch</span> (<span class="exception">ClassNotFoundException</span> e) {
            logWrapper.v(TAG, <span class="string"><span class="delimiter">&quot;</span><span class="content">Icepick is disabled, add the library in Pandroid extension to use it</span><span class="delimiter">&quot;</span></span>);
        }
        <span class="keyword">return</span> pandroidDelegate;
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
you could override this method to bring new behavior to all activity and fragment.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="logger">2.7. Logger</h3>
<div class="paragraph">
<p>A powerful logger is a very important part of your development. A logger can become your best friend to identify bugs remotely.
But keep in mind that your logger has to be properly configured to avoid any security vulnerability or debugging mess.</p>
</div>
<div class="paragraph">
<p>To help you with that, Pandroid proposes a PandroidLogger that you can get by singleton but that you are encouraged
 to inject with the BaseComponent of your PandroidApplication to get more flexibility.
This Logger is a LogWrapper which means it can wrap any logger you need.
In your PandroidApplication, the LogcatLogger is added by default to your loggerWrapper.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="directive">protected</span> <span class="type">void</span> initializeLogger() {
        logWrapper = PandroidLogger.getInstance();
        logWrapper.addLogger(LogcatLogger.getInstance());
    }</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="crashlytics">2.7.1. Crashlytics</h4>
<div class="paragraph">
<p>Crashlytics is an optional library in pandroid.</p>
</div>
<div class="ulist">
<div class="title">Installation</div>
<ul>
<li>
<p>build.gradle</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">buildscript {
    repositories {
        maven { url <span class="string"><span class="delimiter">'</span><span class="content">https://maven.fabric.io/public</span><span class="delimiter">'</span></span> }
    }
    dependencies {
        classpath <span class="string"><span class="delimiter">'</span><span class="content">io.fabric.tools:gradle:1.21.5</span><span class="delimiter">'</span></span>
    }
}

pandroid
{
    dependencies{
        library (<span class="string"><span class="delimiter">&quot;</span><span class="content">crashlytics</span><span class="delimiter">&quot;</span></span>){
            manifestConfig <span class="string"><span class="delimiter">&quot;</span><span class="content">YOUR_CRASHLYTICS_API_KEY</span><span class="delimiter">&quot;</span></span>
        }
    }
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>add the CrashlyticsLogger to the logWrapper</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// this logger is configured to be activated when the BuildConfig.DEBUG is false</span>
<span class="comment">// you can override this behaviour</span>
logWrapper.addLogger(<span class="keyword">new</span> CrashlyticsLogger(<span class="local-variable">this</span>));</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="security">3. Security</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="proguard">3.1. Proguard</h3>
<div class="paragraph">
<p>Pandroid helps you to use Proguard. The Pandroid plugin brings the pandroid-proguard-rules.pro in the pandroid build folder.
By default, the Android plugin is configured to use this file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">android {

    lintOptions {
        disable <span class="string"><span class="delimiter">'</span><span class="content">InvalidPackage</span><span class="delimiter">'</span></span>
    }

    buildTypes {
        all {
            minifyEnabled <span class="predefined-constant">false</span>
            proguardFiles getDefaultProguardFile(<span class="string"><span class="delimiter">'</span><span class="content">proguard-android.txt</span><span class="delimiter">'</span></span>), <span class="string"><span class="delimiter">'</span><span class="content">proguard-rules.pro</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">build/pandroid/pandroid-proguard-rules.pro</span><span class="delimiter">'</span></span>
        }
        <span class="keyword">if</span> (!plugins.hasPlugin(<span class="string"><span class="delimiter">&quot;</span><span class="content">com.android.library</span><span class="delimiter">&quot;</span></span>)) {
            release {
                minifyEnabled <span class="predefined-constant">true</span>
            }
        }
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Make sure that your application does not overwrite the proguard&#8217;s configuration
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="encryption-manager">3.2. Encryption Manager</h3>
<div class="paragraph">
<p>To help you encrypt critical data, Pandroid provides a CryptoManager implementation: RsaAesCryptoManager. This manager provides two ways to encrypt/decrypt datas: symmetric using AES and asymmetric using RSA.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
None of these encryption methods are unbreakable. Keep in mind that the best way to keep data safe on the phone is probably not to keep them.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="secure-key">3.3. Secure Key</h3>
<div class="paragraph">
<p>Pandroid extension provide tools to encrypt your critical keys. This encryption is based on the app signing configuration. Make sure your application is properly configure.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>to encrypt your key</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">pandroid{
    productFlavors{
        all{
            secureField <span class="string"><span class="delimiter">&quot;</span><span class="content">YOUR_KEY_NAME</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">YOUR_KEY</span><span class="delimiter">&quot;</span></span>
        }
        prod {
            secureField <span class="string"><span class="delimiter">&quot;</span><span class="content">YOUR_KEY_NAME</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">YOUR_PROD_KEY</span><span class="delimiter">&quot;</span></span>
        }
    }
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>to decrypt your key</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//your secure field will be add to BuildConfig with the prefix SECURE_</span>
<span class="predefined-type">String</span> decryptKey = PandroidConfig.getSecureField(context, BuildConfig.SECURE_YOUR_KEY_NAME)
<span class="comment">//...</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="network">4. Network</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="trustmanager-keymanager">4.1. TrustManager / KeyManager</h3>
<div class="paragraph">
<p>If you need to add custom TrustManager or KeyManager, you can override the PandroidModule methods in your application Class.</p>
</div>
<div class="paragraph">
<p>An example is available in DemoApplication.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">                    <span class="annotation">@Override</span>
                    <span class="directive">protected</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">TrustManager</span>&gt; getTrustManagers() {
                        <span class="predefined-type">List</span>&lt;<span class="predefined-type">TrustManager</span>&gt; keyManagers = <span class="local-variable">super</span>.getTrustManagers();
                        PandroidX509TrustManager trustManager = <span class="keyword">new</span> PandroidX509TrustManager(DemoApplication.this);
                        trustManager.addCertificate(<span class="string"><span class="delimiter">&quot;</span><span class="content">leroymerlin.com</span><span class="delimiter">&quot;</span></span>, R.raw.lmfr_cert);<span class="comment">// add certificate for your application</span>
                        keyManagers.add(trustManager);
                        <span class="keyword">return</span> keyManagers;
                    }
                    <span class="annotation">@Override</span>
                    <span class="directive">protected</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">KeyManager</span>&gt; getKeyManagers() {
                        <span class="keyword">return</span> <span class="local-variable">super</span>.getKeyManagers(); <span class="comment">// here you can add you own key manager</span>
                    }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="delegate">4.2. Delegate</h3>
<div class="paragraph">
<p>To perform async calls, Pandroid provides a generic delegate that you can use.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">com.leroymerlin.pandroid.future</span>;

<span class="comment">/**
 * Created by paillard.f on 21/02/2014.
 */</span>
<span class="directive">public</span> <span class="type">interface</span> <span class="class">ActionDelegate</span>&lt;T&gt; {

    <span class="directive">public</span> <span class="type">void</span> onSuccess(T result);

    <span class="directive">public</span> <span class="type">void</span> onError(<span class="exception">Exception</span> e);


}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To help you avoid errors during a view update once your activity or fragment has been released, Pandroid provides
CancellableActionDelegate and NetActionDelegate. Those classes have the ability to be cancelled to ignore the async result.
These delegates can be registered to your PandroidActivity/PandroidFragment in order to be cancelled automatically during the onPause.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">        <span class="comment">//If the CancellableActionDelegate/NetActionDelegate is cancelled the retrofit request will be cancelled too and the result ignored</span>
        <span class="comment">//Note that the Delegate is register to the Fragment and will be cancel by the PandroidDelegate for you if the fragment is paused</span>
        reviewManager.getReview(<span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> NetActionDelegate&lt;Review&gt;(<span class="local-variable">this</span>) {
            <span class="annotation">@Override</span>
            <span class="directive">public</span> <span class="type">void</span> success(Review result) {
                toastManager.makeToast(getActivity(), result.getTitle(), <span class="predefined-constant">null</span>);
            }

            <span class="annotation">@Override</span>
            <span class="directive">public</span> <span class="type">void</span> onNetworkError(<span class="type">int</span> statusCode, <span class="predefined-type">String</span> errorMessage, <span class="predefined-type">String</span> body, <span class="exception">Exception</span> e) {
                toastManager.makeToast(getActivity(), errorMessage, <span class="predefined-constant">null</span>, R.style.Toast_Error);
            }
        });</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="retrofit">4.3. Retrofit</h3>
<div class="paragraph">
<p>Pandroid provides the Retrofit library.
Retrofit is a library used to perform REST webservice requests in a simple way.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
See <a href="http://square.github.io/retrofit/">official documentation</a> to use Retrofit
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">You can initialize your service with the provided client builder.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Provides</span>
    <span class="annotation">@Singleton</span>
    ReviewService provideDemoService(OkHttpClient.Builder clientBuilder, <span class="predefined-type">Context</span> context, LogWrapper logWrapper) {
        <span class="comment">//PandroidCall handle Action Delegate on main thread and mock annotation</span>
        PandroidCallAdapterFactory factory = PandroidCallAdapterFactory.create(context, logWrapper);
        factory.setMockEnable(PandroidConfig.DEBUG);
        Retrofit.Builder builder = <span class="keyword">new</span> Retrofit.Builder()
                .client(clientBuilder.build())
                .addConverterFactory(GsonConverterFactory.create())
                .addCallAdapterFactory(factory)
                .baseUrl(BuildConfig.BASE_URL_PRODUCT);
        <span class="keyword">return</span> builder.build().create(ReviewService.class);
    }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">PandroidCall allows you to use Pandroid ActionDelegate.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> getReview(<span class="predefined-type">String</span> productId, <span class="directive">final</span> NetActionDelegate&lt;Review&gt; delegate) {

        <span class="comment">//Standard Retrofit way</span>
        Call&lt;Review&gt; review = reviewService.getReview(productId);
        review.enqueue(<span class="keyword">new</span> <span class="predefined-type">Callback</span>&lt;Review&gt;() {

            <span class="annotation">@Override</span>
            <span class="directive">public</span> <span class="type">void</span> onResponse(Call&lt;Review&gt; call, Response&lt;Review&gt; response) {
                <span class="keyword">try</span> {
                    <span class="keyword">if</span> (response.isSuccessful()) {
                        delegate.onSuccess(response.body());
                    } <span class="keyword">else</span> {
                        <span class="predefined-type">String</span> string = response.errorBody().string();
                        delegate.onError(<span class="keyword">new</span> <span class="exception">Exception</span>(response.code() + <span class="string"><span class="delimiter">&quot;</span><span class="content">: </span><span class="delimiter">&quot;</span></span> + string));
                    }
                } <span class="keyword">catch</span> (<span class="exception">IOException</span> e) {
                    onFailure(call, e);
                }
            }

            <span class="annotation">@Override</span>
            <span class="directive">public</span> <span class="type">void</span> onFailure(Call&lt;Review&gt; call, <span class="predefined-type">Throwable</span> t) {
                <span class="comment">//Be carefull with the onFailure. This method can be called by retrofit outside of the main thread</span>
                <span class="comment">//You can't update you UI directly</span>
                <span class="comment">//delegate.onError(new Exception(&quot;Fail to get product&quot;, t)); =&gt; Error</span>
            }
        });

        <span class="comment">//Pandroid way</span>
        PandroidCall&lt;Review&gt; reviewPandroidWay = reviewService.getReviewPandroidWay(productId);
        reviewPandroidWay.enqueue(delegate);
    }</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="mock">4.3.1. Mock</h4>
<div class="paragraph">
<p>If your service uses the PandroidCallAdapterFactory, you can use the Mock annotation to simulate network calls.
The mock has to be enabled during the declaration of your PandroidCallAdapterFactory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">interface</span> <span class="class">ReviewService</span> {

    <span class="annotation">@GET</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">posts/{id}</span><span class="delimiter">&quot;</span></span>)
    Call&lt;Review&gt; getReview(<span class="annotation">@Path</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>) <span class="predefined-type">String</span> id);


    <span class="comment">//Mocks have to enable in PandroidCallFactory</span>
    <span class="annotation">@Mock</span>(
            enable = <span class="predefined-constant">true</span>, <span class="comment">//mock can be desable one by one</span>
            delay = <span class="integer">400</span>,   <span class="comment">//delay before response</span>
            statusCode = <span class="integer">200</span>, <span class="comment">//response statusCode</span>
            mockClass = ServiceMock.class, <span class="comment">//Mock class to change response dynamically</span>
            path = <span class="string"><span class="delimiter">&quot;</span><span class="content">mock/reviews.json</span><span class="delimiter">&quot;</span></span> <span class="comment">//path to response json file in your assets</span>
    )
    <span class="annotation">@GET</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">posts/{id}</span><span class="delimiter">&quot;</span></span>)
    PandroidCall&lt;Review&gt; getReviewPandroidWay(<span class="annotation">@Path</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>) <span class="predefined-type">String</span> id);

}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="picture">4.4. Picture</h3>
<div class="paragraph">
<p>Pandroid provides a PictureManager to help you extract your image library from your code.
PictureManager allows you to associate an image (with its URL) to an ImageView
Options are available such as adding a placeholder image or a delegate method (listener) to perform processing when loading the image.</p>
</div>
<div class="sect3">
<h4 id="glide">4.4.1. Glide</h4>
<div class="paragraph">
<p>Glide is an optional library. To use it you need to add the dependency to the Pandroid dependencies in your build.gradle file.</p>
</div>
<div class="ulist">
<div class="title">Installation</div>
<ul>
<li>
<p>Build.gradle</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">pandroid{
    dependencies{
        library <span class="string"><span class="delimiter">'</span><span class="content">glide</span><span class="delimiter">'</span></span>
    }
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Module</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Provides</span>
    <span class="annotation">@Singleton</span>
    PictureManager providePictureManager(<span class="predefined-type">Context</span> context) {
        GlidePictureManagerImpl glidePictureManager = <span class="keyword">new</span> GlidePictureManagerImpl(context);
        glidePictureManager.setPlaceHolder(R.drawable.pandroid_img_nophoto);
        <span class="keyword">return</span> glidePictureManager;
    }</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Inject it</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Inject</span>
    PictureManager pictureManager;

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> onViewCreated(<span class="predefined-type">View</span> view, Bundle savedInstanceState) {
        <span class="local-variable">super</span>.onViewCreated(view, savedInstanceState);
        pictureManager.load(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://community.coreldraw.com/cfs-filesystemfile/__key/communityserver-components-secureimagefileviewer/telligent-evolution-components-attachments-13-393-00-00-00-14-32-80/Pandroid.JPG_2D00_1004x819.jpg</span><span class="delimiter">&quot;</span></span>,
                (<span class="predefined-type">ImageView</span>) view.findViewById(R.id.rest_iv));
    }</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-interface">5. User interface</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="animation">5.1. Animation</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="type">enum</span> DeliveryPolicy {
        <span class="comment">//The message will be delivery only to the registered receiver at the moment the message is send</span>
        UNCHECKED,
        <span class="comment">//The message will be keep until at least one receiver get it</span>
        AT_LEAST_ONE,
        <span class="comment">//The message will be keep until another message with the same id override it or it is cancelled</span>
        UNLIMITED
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>All these animations can be found in the Pandroid Demo under the animation section. They will be described in their apparition order while running the application.</p>
</div>
<div class="sect3">
<h4 id="resizeview">5.1.1. ResizeView</h4>
<div class="paragraph">
<p>The simplest method to perform a resize animation on an element. You just call the method with the targeted View as one of the arguments, along with the new size and animation duration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">ResizeAnimation.create(resizeView).height( X ).width( Y ).duration( T ).startAnimation();</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rotateview">5.1.2. RotateView</h4>
<div class="paragraph">
<p>This method works in a similar way that ResizeView and allows to perform a 3D rotation on an object, like flipping a coin.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Rotate3dAnimation rotate3dAnimation = <span class="keyword">new</span> Rotate3dAnimation(<span class="integer">180</span>, <span class="integer">360</span>, Rotate3dAnimation.CENTER.CENTER,
        DeviceUtils.dpToPx(getActivity(), <span class="integer">100</span>), <span class="predefined-constant">false</span>);
rotate3dAnimation.setRotationAxis(Rotate3dAnimation.AXIS.Y);
rotate3dAnimation.setDuration(<span class="integer">1000</span>);
rotateView.startAnimation(rotate3dAnimation);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="material-framgent">5.1.3. Material Framgent</h4>
<div class="paragraph">
<p>This one might be the most interesting animation in the demo, because used in another way. It allows to use a semi-automatic animation between 2 different Views (that could be in different screens ?).
To do this we have to provide in an Opener the required arguments, from an ImageView for example, like sizing or position&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">ViewInfosContainer ivInfos = <span class="keyword">new</span> ViewInfosContainer(ivMaterial, view);
ViewInfosContainer tvInfos = <span class="keyword">new</span> ViewInfosContainer(tvTitle, view);
sendEvent(<span class="keyword">new</span> MaterialOpener(ivInfos, tvInfos));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Material fragment will be in charge of fetching the position of the first view and create an animation to transition with the second one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">materialTransitionLayout.addAnimation(mOpener.ivInfos, R.id.material_iv);
materialTransitionLayout.addAnimation(mOpener.tvInfos, R.id.material_tv);
materialTransitionLayout.setRevealCenter(R.id.material_iv); <span class="comment">//Optional Method</span>
materialTransitionLayout.open();</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="circularframelayout">5.1.4. CircularFrameLayout</h4>
<div class="paragraph">
<p>This animation, last in the Pandroid  demo allows to display all the objects and create an animation that finishes on a single visible object.
In order to do this, we only have to set the same listener to our 4 Buttons:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">view.findViewById(R.id.animation_test_btn).setOnClickListener(circularClickListener);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then update the listener to provide the animation to perform.
Puis de modifier notre listener pour lui donner l&#8217;animation  raliser.
 As shown here, test if the base object is the single one displayed, then perform the animation to make the others visible.
 Or chose the selected button as the center and perform the animation again.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">if</span> (circularFrameLayout.isClipOutEnable()) {
    circularFrameLayout.open(animatorListener);
} <span class="keyword">else</span> {
    circularFrameLayout.setCenter(v.getX() + v.getWidth() / <span class="integer">2</span>, v.getY() + v.getHeight() / <span class="integer">2</span>);
    circularFrameLayout.animateToRadius(v.getWidth(), getResources().getInteger(R.integer.anim_speed), animatorListener);
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="list">5.2. List</h3>
<div class="paragraph">
<p>Pandroid provides an adapter for ListView and RecyclerView.
Both of them have the same pattern : you have to provide a HolderFactory and your adapter is responsible of the data list.
These adapters help you with items gestures and animations
See demo&#8217;s examples</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">        <span class="directive">final</span> RecyclerViewAdapter&lt;<span class="predefined-type">String</span>&gt; adapter = <span class="keyword">new</span> RecyclerViewAdapter&lt;<span class="predefined-type">String</span>&gt;(<span class="keyword">new</span> RecyclerFactory&lt;RecyclerHolder&lt;<span class="predefined-type">String</span>&gt;&gt;() {
            <span class="annotation">@Override</span>
            <span class="directive">public</span> RecyclerHolder&lt;<span class="predefined-type">String</span>&gt; create(LayoutInflater inflater, ViewGroup parent, <span class="type">int</span> viewType) {
                <span class="comment">//override the adapter getItemType to handle different type of cell</span>
                <span class="comment">//here you can return the holder dealing with the object and type you have</span>
                <span class="keyword">return</span> <span class="keyword">new</span> RecyclerHolder&lt;<span class="predefined-type">String</span>&gt;(inflater.inflate(R.layout.cell_list, parent, <span class="predefined-constant">false</span>)) {

                    <span class="directive">public</span> TextView tvContent;

                    <span class="annotation">@Override</span>
                    <span class="directive">protected</span> <span class="type">void</span> setView(<span class="predefined-type">View</span> view) {
                        <span class="local-variable">super</span>.setView(view);
                        tvContent = (TextView) view;
                    }

                    <span class="annotation">@Override</span>
                    <span class="directive">public</span> <span class="type">void</span> setContent(<span class="predefined-type">String</span> content, <span class="type">int</span> index) {
                        tvContent.setText(content);
                    }
                };
            }
        }
        );

        <span class="comment">//this Touch Helper handle swipe to remove gesture and change position</span>
        SimpleItemTouchHelperCallback simpleItemTouchHelperCallback = <span class="keyword">new</span> SimpleItemTouchHelperCallback(adapter) {
            <span class="annotation">@Override</span>
            <span class="directive">public</span> <span class="type">void</span> onSwiped(RecyclerView.ViewHolder viewHolder, <span class="type">int</span> direction) {
                <span class="local-variable">super</span>.onSwiped(viewHolder, direction);
                toastManager.makeToast(getActivity(), <span class="string"><span class="delimiter">&quot;</span><span class="content">Item </span><span class="delimiter">&quot;</span></span> + viewHolder.getAdapterPosition() + <span class="string"><span class="delimiter">&quot;</span><span class="content"> removed</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>, R.style.Toast_Warm);
            }
        };
        ItemTouchHelper touchHelper = <span class="keyword">new</span> ItemTouchHelper(simpleItemTouchHelperCallback);
        touchHelper.attachToRecyclerView(rvMenu);
        adapter.addAll(getData());

        <span class="comment">//you can add item click listener and long click listener on you adapter</span>
        adapter.setOnItemClickListener(<span class="keyword">new</span> RecyclerViewAdapter.OnItemClickListener&lt;<span class="predefined-type">String</span>&gt;() {
            <span class="annotation">@Override</span>
            <span class="directive">public</span> <span class="type">void</span> onItemClick(RecyclerViewAdapter&lt;<span class="predefined-type">String</span>&gt; parent, <span class="predefined-type">View</span> view, <span class="type">int</span> position, <span class="type">long</span> id) {
                toastManager.makeToast(getActivity(), <span class="string"><span class="delimiter">&quot;</span><span class="content">Button </span><span class="delimiter">&quot;</span></span> + position + <span class="string"><span class="delimiter">&quot;</span><span class="content"> clicked</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>, R.style.Toast, getResources().getInteger(R.integer.toast_short_duration));
            }
        });
        rvMenu.setAdapter(adapter);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="list-header">5.3. List header</h3>
<div class="paragraph">
<p>A view is available to have a QuickHeader. This header can be used with ListView ScrollView and RecyclerView.
See ListViewFragment in the demo</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">    <span class="tag">&lt;com.leroymerlin.pandroid.ui.list.QuickHeaderLayout</span>
        <span class="attribute-name">android:layout_width</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">match_parent</span><span class="delimiter">&quot;</span></span>
        <span class="attribute-name">android:layout_height</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0dp</span><span class="delimiter">&quot;</span></span>
        <span class="attribute-name">android:layout_weight</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="comment">&lt;!-- The first view is the scrollable one --&gt;</span>
        <span class="tag">&lt;ListView</span>
            <span class="attribute-name">android:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">@+id/list_lv</span><span class="delimiter">&quot;</span></span>
            <span class="attribute-name">android:padding</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">@dimen/small_spacing</span><span class="delimiter">&quot;</span></span>
            <span class="attribute-name">android:layout_width</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">match_parent</span><span class="delimiter">&quot;</span></span>
            <span class="attribute-name">android:layout_height</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">match_parent</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
        <span class="comment">&lt;!-- The second layout is the view you want to use as a header --&gt;</span>
        <span class="tag">&lt;TextView</span>
            <span class="attribute-name">android:layout_width</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">match_parent</span><span class="delimiter">&quot;</span></span>
            <span class="attribute-name">android:layout_height</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">50dp</span><span class="delimiter">&quot;</span></span>
            <span class="attribute-name">android:background</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">@color/pandroid_gray</span><span class="delimiter">&quot;</span></span>
            <span class="attribute-name">android:gravity</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">center</span><span class="delimiter">&quot;</span></span>
            <span class="attribute-name">android:text</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">@string/list_header_listview</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;/com.leroymerlin.pandroid.ui.list.QuickHeaderLayout&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="toast">5.4. Toast</h3>
<div class="paragraph">
<p>Pandroid allows you to customize Android Toast notifications thanks to a dedicated ToastManager. With this manager, you can change the style of your toasts by choosing among 3 styles :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">    <span class="tag">&lt;declare-styleable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ToastAppearance</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;attr</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">toastTextColor</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">format</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">color</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;attr</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">toastBackground</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">format</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">color</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;/declare-styleable&gt;</span>

    <span class="tag">&lt;style</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Toast</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="inline">        <span class="error">&lt;</span><span class="tag">item</span> <span class="tag">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">toastTextColor</span><span class="delimiter">&quot;</span></span>&gt;<span class="directive">@color</span>/<span class="tag">white</span><span class="error">&lt;</span>/<span class="tag">item</span>&gt;
        <span class="error">&lt;</span><span class="tag">item</span> <span class="tag">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">toastBackground</span><span class="delimiter">&quot;</span></span>&gt;<span class="directive">@color</span>/<span class="tag">pandroid_green</span><span class="error">&lt;</span>/<span class="tag">item</span>&gt;</span>
    <span class="tag">&lt;/style&gt;</span>

    <span class="tag">&lt;style</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Toast.Error</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="inline">        <span class="error">&lt;</span><span class="tag">item</span> <span class="tag">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">toastBackground</span><span class="delimiter">&quot;</span></span>&gt;<span class="directive">@color</span>/<span class="tag">pandroid_red</span><span class="error">&lt;</span>/<span class="tag">item</span>&gt;</span>
    <span class="tag">&lt;/style&gt;</span>

    <span class="tag">&lt;style</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Toast.Warm</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="inline">        <span class="error">&lt;</span><span class="tag">item</span> <span class="tag">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">toastBackground</span><span class="delimiter">&quot;</span></span>&gt;<span class="directive">@color</span>/<span class="tag">pandroid_orange</span><span class="error">&lt;</span>/<span class="tag">item</span>&gt;</span>
    <span class="tag">&lt;/style&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If needed, you can declare your own style.</p>
</div>
<div class="paragraph">
<p>You can also add a ToastListener to know when the toast is dismissed or clicked.</p>
</div>
<div class="paragraph">
<p>It&#8217;s possible to make a more advanced toast by adding an image, a button, or even a loader to it.</p>
</div>
<div class="sect3">
<h4 id="supertoast">5.4.1. Supertoast</h4>
<div class="paragraph">
<p>Supertoast is optional, to use it you need to add the dependency to the Pandroid dependencies in your module build.gradle file :</p>
</div>
<div class="ulist">
<div class="title">Installation</div>
<ul>
<li>
<p>build.gradle</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">pandroid{
    dependencies {
        library <span class="string"><span class="delimiter">&quot;</span><span class="content">supertoast</span><span class="delimiter">&quot;</span></span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can inject the manager with dagger to use it in your classes, don&#8217;t forget to provide it in your app module class :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Provides</span>
    ToastManager provideToastManager(SuperToastManagerImpl superToastManager) {
        <span class="keyword">return</span> superToastManager;
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The ToastManager interface exposes a list of methods to display toasts, here is an example of a simple error styled toast :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">            <span class="annotation">@Override</span>
            <span class="directive">public</span> <span class="type">void</span> onNetworkError(<span class="type">int</span> statusCode, <span class="predefined-type">String</span> errorMessage, <span class="predefined-type">String</span> body, <span class="exception">Exception</span> e) {
                toastManager.makeToast(getActivity(), errorMessage, <span class="predefined-constant">null</span>, R.style.Toast_Error);
            }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="scanner">5.5. Scanner</h3>
<div class="sect3">
<h4 id="vision">5.5.1. Vision</h4>
<div class="paragraph">
<p>Vision is an optional Google Play Services library. You will have to declare it in the Pandroid extension.
Pandroid provides a PandroidScannerView to integrate the library</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
The official documentation is available <a href="https://developers.google.com/vision/">here</a>.
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Installation</div>
<ul>
<li>
<p>build.gradle</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">pandroid{
    dependencies {
        library <span class="string"><span class="delimiter">&quot;</span><span class="content">vision</span><span class="delimiter">&quot;</span></span>
    }
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>usage (ScannerFragment.java)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="comment">/**
     * Starts or restarts the camera source, if it exists.  If the camera source doesn't exist yet
     * (e.g., because onResume was called before the camera source was created), this will be called
     * again when the camera source is created.
     */</span>
    <span class="directive">private</span> <span class="type">void</span> startCameraSource() <span class="directive">throws</span> <span class="exception">SecurityException</span> {
        <span class="comment">// check that the device has play services available.</span>


        <span class="keyword">if</span> (mCameraSource != <span class="predefined-constant">null</span>) {
            <span class="keyword">try</span> {
                pandroidScannerView.start(mCameraSource);
            } <span class="keyword">catch</span> (<span class="exception">IOException</span> e) {
                Log.e(TAG, <span class="string"><span class="delimiter">&quot;</span><span class="content">Unable to start camera source.</span><span class="delimiter">&quot;</span></span>, e);
                mCameraSource.release();
                mCameraSource = <span class="predefined-constant">null</span>;
            }
        }
    }

    <span class="directive">private</span> <span class="type">void</span> createCameraSource() {

        <span class="predefined-type">Context</span> context = getActivity().getApplicationContext();

        <span class="type">int</span> code = GoogleApiAvailability.getInstance().isGooglePlayServicesAvailable(
                getActivity());
        <span class="keyword">if</span> (code != ConnectionResult.SUCCESS) {
            GoogleApiAvailability.getInstance().getErrorDialog(getActivity(), code, <span class="integer">100</span>).show();
        } <span class="keyword">else</span> {

            <span class="comment">// A barcode detector is created to track barcodes.  An associated multi-processor instance</span>
            <span class="comment">// is set to receive the barcode detection results, track the barcodes, and maintain</span>
            <span class="comment">// graphics for each barcode on screen.  The factory is used by the multi-processor to</span>
            <span class="comment">// create a separate tracker instance for each barcode.</span>
            BarcodeDetector barcodeDetector = <span class="keyword">new</span> BarcodeDetector.Builder(context).build();
            processor = <span class="keyword">new</span> PandroidScannerView.SimpleProcessor() {

                <span class="annotation">@Override</span>
                <span class="directive">public</span> <span class="type">boolean</span> handleBarcode(Barcode barcode) {
                    toastManager.makeToast(getActivity(), <span class="string"><span class="delimiter">&quot;</span><span class="content">Detected: </span><span class="delimiter">&quot;</span></span> + barcode.displayValue, <span class="keyword">new</span> ToastManager.ToastListener() {
                        <span class="annotation">@Override</span>
                        <span class="directive">public</span> <span class="type">void</span> onDismiss() {
                            processor.resumeDetector();
                        }

                        <span class="annotation">@Override</span>
                        <span class="directive">public</span> <span class="type">void</span> onActionClicked() {

                        }
                    });
                    <span class="keyword">return</span> <span class="predefined-constant">true</span>;
                }
            };
            barcodeDetector.setProcessor(processor);

            <span class="keyword">if</span> (!barcodeDetector.isOperational()) {
                <span class="comment">// Note: The first time that an app using the barcode or face API is installed on a</span>
                <span class="comment">// device, GMS will download a native libraries to the device in order to do detection.</span>
                <span class="comment">// Usually this completes before the app is run for the first time.  But if that</span>
                <span class="comment">// download has not yet completed, then the above call will not detect any barcodes</span>
                <span class="comment">// and/or faces.</span>
                <span class="comment">//</span>
                <span class="comment">// isOperational() can be used to check if the required native libraries are currently</span>
                <span class="comment">// available.  The detectors will automatically become operational once the library</span>
                <span class="comment">// downloads complete on device.</span>
                Log.w(TAG, <span class="string"><span class="delimiter">&quot;</span><span class="content">Detector dependencies are not yet available.</span><span class="delimiter">&quot;</span></span>);
            }

            <span class="comment">// Creates and starts the camera.  Note that this uses a higher resolution in comparison</span>
            <span class="comment">// to other detection examples to enable the barcode detector to detect small barcodes</span>
            <span class="comment">// at long distances.</span>
            CameraSource.Builder builder = <span class="keyword">new</span> CameraSource.Builder(context, barcodeDetector)
                    .setFacing(CameraSource.CAMERA_FACING_BACK)
                    .setRequestedPreviewSize(<span class="integer">1600</span>, <span class="integer">1024</span>)
                    .setRequestedFps(<span class="float">30.0f</span>)
                    .setAutoFocusEnabled(<span class="predefined-constant">true</span>);

            mCameraSource = builder.build();
        }

    }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="custom-views">5.6. Custom Views</h3>
<div class="paragraph">
<div class="title">ProgressWheel</div>
<p>A custom Lollipop loader is available to create beautiful loading screens.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="storage">6. Storage</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="preferences">6.1. Preferences</h3>
<div class="paragraph">
<p>To store preferences, a ConfigurationManager is available to abstract any storage library.</p>
</div>
<div class="paragraph">
<div class="title">SharedPrefConfigurationManager</div>
<p>This implementation of ConfigurationManager uses Android SharePreferences to store your object. If needed,
the manager can serialize your object to string with GSON.</p>
</div>
</div>
<div class="sect2">
<h3 id="loader">6.2. Loader</h3>
<div class="paragraph">
<p>To process heavy async tasks, you should use Android Loader instead of AsyncTask. You can find the documentation <a href=":http://developer.android.com/guide/components/loaders.html">here</a>
To help you doing so, Pandroid provides a SimpleAsyncTaskLoader.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">        Bundle b = <span class="keyword">new</span> Bundle();
        b.putDouble(<span class="string"><span class="delimiter">&quot;</span><span class="content">fibonacci</span><span class="delimiter">&quot;</span></span>, <span class="integer">28</span>);
        getLoaderManager().initLoader(<span class="integer">0</span>, b, <span class="keyword">new</span> LoaderManager.LoaderCallbacks&lt;<span class="predefined-type">Double</span>&gt;() {
            <span class="annotation">@Override</span>
            <span class="directive">public</span> Loader&lt;<span class="predefined-type">Double</span>&gt; onCreateLoader(<span class="type">int</span> id, Bundle args) {
                <span class="directive">final</span> <span class="type">double</span> fibonacci = args.getDouble(<span class="string"><span class="delimiter">&quot;</span><span class="content">fibonacci</span><span class="delimiter">&quot;</span></span>);
                <span class="keyword">return</span> <span class="keyword">new</span> SimpleAsyncTaskLoader&lt;<span class="predefined-type">Double</span>&gt;(getActivity()) {
                    <span class="annotation">@Override</span>
                    <span class="directive">public</span> <span class="predefined-type">Double</span> loadInBackground() {
                        <span class="keyword">return</span> fibonacci(fibonacci);
                    }
                };
            }

            <span class="annotation">@Override</span>
            <span class="directive">public</span> <span class="type">void</span> onLoadFinished(Loader&lt;<span class="predefined-type">Double</span>&gt; loader, <span class="predefined-type">Double</span> data) {
                toastManager.makeToast(getActivity(), <span class="string"><span class="delimiter">&quot;</span><span class="content">Result : </span><span class="delimiter">&quot;</span></span>+data, <span class="predefined-constant">null</span>);
            }

            <span class="annotation">@Override</span>
            <span class="directive">public</span> <span class="type">void</span> onLoaderReset(Loader&lt;<span class="predefined-type">Double</span>&gt; loader) {

            }
        });</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="analytics">7. Analytics</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="google-analytics">7.1. Google Analytics</h3>
<div class="paragraph">
<p>Google Analytics is an optional library.</p>
</div>
<div class="paragraph">
<div class="title">Installation</div>
<p>You need to add the dependency in your build.gradle</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath <span class="string"><span class="delimiter">'</span><span class="content">com.google.gms:google-services:3.0.0</span><span class="delimiter">'</span></span>
    }
}
<span class="comment">//apply the plugin at the end of your build.gradle to avoid error</span>
apply plugin <span class="string"><span class="delimiter">'</span><span class="content">com.google.gms.google-services</span><span class="delimiter">'</span></span>

pandroid {
    dependencies {
        library <span class="string"><span class="delimiter">'</span><span class="content">play-services-analytics</span><span class="delimiter">'</span></span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, in your module, you can provided Analytics Manager and configure your tracker.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Provides</span>
    <span class="annotation">@Singleton</span>
    AnalyticsManager provideAnalyticsManager(GoogleAnalyticsManager googleAnalyticsManager) {

        <span class="comment">// set your GA ID Analytics</span>
        <span class="predefined-type">String</span> AnalyticsGaId = <span class="string"><span class="delimiter">&quot;</span><span class="content">YOUR_ANALYTICS_GA_ID</span><span class="delimiter">&quot;</span></span>;

        <span class="keyword">if</span> (!TextUtils.isEmpty(AnalyticsGaId)) {
            Tracker tracker = googleAnalyticsManager.getAnalytics().newTracker(AnalyticsGaId);
            tracker.enableAutoActivityTracking(<span class="predefined-constant">true</span>);
            googleAnalyticsManager.getTrackers().add(tracker);
        }
        <span class="keyword">return</span> googleAnalyticsManager;
    }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="firebase-analytics">7.2. Firebase Analytics</h3>
<div class="paragraph">
<p>Firebase Analytics is an optional library.</p>
</div>
<div class="paragraph">
<div class="title">Installation</div>
<p>You need to add the dependency in your build.gradle</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath <span class="string"><span class="delimiter">'</span><span class="content">com.google.gms:google-services:3.0.0</span><span class="delimiter">'</span></span>
    }
}
<span class="comment">//apply the plugin at the end of your build.gradle to avoid error</span>
apply plugin <span class="string"><span class="delimiter">'</span><span class="content">com.google.gms.google-services</span><span class="delimiter">'</span></span>

pandroid {
    dependencies {
        library <span class="string"><span class="delimiter">'</span><span class="content">firebase-analytics</span><span class="delimiter">'</span></span>
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
GMS services now require a <strong>google-services.json</strong> configuration file. Please refer to the official documentation
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tests">8. Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Coming soon</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="utils">9. Utils</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here are all the static classes you usually need in your projects</p>
</div>
<div class="paragraph">
<div class="title">DeviceUtils</div>
<p>Get info on the device, convert pixel to dp or open/close the keyboard.</p>
</div>
<div class="paragraph">
<div class="title">IoUtils</div>
<p>Provide copy file method, read data from assets.</p>
</div>
<div class="paragraph">
<div class="title">NetworkUtils</div>
<p>This class helps you check network stats, get the current IP, disable/enable WIFI, &#8230;&#8203;</p>
</div>
<div class="paragraph">
<div class="title">SystemUtils</div>
<p>Help you with all the Android OS stuff (run command, check root, uninstall App)</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2016-07-13 09:57:31 CEST
</div>
</div>
</body>
</html>