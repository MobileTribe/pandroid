apply plugin: 'com.android.application'
apply from: '../pandroid-library/dagger.gradle'
apply plugin: 'com.leroymerlin.delivery'


android {
    compileSdkVersion Integer.parseInt(androidSdkVersion)
    buildToolsVersion androidBuildToolsVersion

    defaultConfig {
        applicationId "com.leroymerlin.pandroid.demo"
        minSdkVersion Integer.parseInt(androidMinSdkVersion)
        targetSdkVersion Integer.parseInt(androidSdkVersion)
        versionCode Integer.parseInt(pandroidVersionId)
        versionName pandroidVersion
        testInstrumentationRunner 'android.support.test.runner.AndroidJUnitRunner'
        javaCompileOptions.annotationProcessorOptions.includeCompileClasspath = true
    }
    buildTypes {
        all {
            buildConfigField "String", "BASE_URL_PRODUCT", '"http://jsonplaceholder.typicode.com/"'
        }
        release {
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android.txt'), '../pandroid-library/pandroid-proguard-rules.pro'
        }
    }
    dataBinding {
        enabled = true
    }

}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile('com.sothree.slidinguppanel:library:3.3.0')

    //Support to simulate plugin work
    annotationProcessor project(':pandroid-compiler')
    compile project(':pandroid-library')
    provided project(':pandroid-annotations')

    compile optionalLibs
    provided "frankiesardo:icepick-processor:$libraryIcepickVersion"
    annotationProcessor "com.jakewharton:butterknife-compiler:$libraryButterknifeVersion"


    testCompile 'junit:junit:4.12'
    androidTestCompile('com.android.support.test:runner:0.5') {
        exclude module: 'support-annotations'
    }
    androidTestCompile('com.android.support.test:rules:0.5') {
        exclude module: 'support-annotations'
    }
    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2') {
        exclude module: 'support-annotations'
    }

}




delivery {
    signingProperties {
        all {
            propertiesFile = file("${System.properties['user.home']}/.gradle/signing_dev.properties")
        }
        release {
            propertiesFile = file("${System.properties['user.home']}/.gradle/signing_prod.properties")
        }

    }

}